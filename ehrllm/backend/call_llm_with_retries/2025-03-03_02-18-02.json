{"model": "azure/gpt-4o-mini", "response_format": "<class 'ehrllm.llms.models.LLM_AggregateChatCompletionResponse'>", "response": "{\"thinking\":\"The user has not provided a medical query, and the greeting does not pertain to any medical information.\",\"reflection\":\"It's important to redirect the user to ask a medical question for assistance.\",\"evidence\":[],\"answer\":\"Hello! If you have a medical question or need assistance regarding health-related topics, feel free to ask!\"}", "messages": [{"role": "system", "content": "\n    You are a helpful medical assistant. You are given an EHR clinical note from a patient and a User Query.\n    Your job is to answer the user's query based on the notes as accurately and comprehensively as possible.\n    Be concise and to the point, but thorough. DO NOT make up information. Your answer must be grounded in the notes.\n    \n    If the User Query is not a medical query related to the notes AND does not relate to the prior conversation history, respond briefly and redirect the user to asking a medical question.\n    \n    REFUSE to answer any queries that are offensive, racist, sexist, or otherwise inappropriate in a professional hospital setting.\n    "}, {"role": "user", "content": "\n    <Task>\n    Previously, you read through a series of notes and answered the User Query based on each note independently.\n    Now, your task is to aggregate these note-level responses into a single coherent response.\n    Maintain all the proper evidence, quotes, note_ids, and thinking from the note-level responses that you incorporate into your answer.\n    For 'source', specify the note_id of the note that the quote is from.\n    Write your 'answer' in plain text, no markup languages.\n    </Task>\n    \n    <User Query>\n    hi\n    </User Query>\n    \n    <Responses>\n    []\n    </Responses>\n    \n    <Task>\n    Please aggregate the responses from the LLM into a single accurate response to the User Query in the correct JSON format.\n    Maintain all the proper evidence, quotes, note_ids, and thinking from the note-level responses that you incorporate into your answer.\n    For 'source', specify the note_id of the note that the quote is from.\n    Write your 'answer' in plain text, no markup languages.\n    </Task>\n    \n    <Response>\n    "}]}